"use strict";angular.module("yeomanApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.sortable"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("yeomanApp").controller("AboutCtrl",["$scope","basket",function(a,b){a.basket=b,a.total=function(){var a=0;return angular.forEach(b.get(),function(b){a+=b.quantity*b.type.price}),a}}]),angular.module("yeomanApp").controller("MainCtrl",["$scope","catalog","basket",function(a,b,c){a.catalog=b,a.basket=c}]),angular.module("yeomanApp").controller("NavCtrl",["$scope","basket",function(a,b){a.basket=b}]),angular.module("yeomanApp").directive("product",function(){return{template:'<h4>{{type.name}}</h4><img ng-src="{{type.img}}" width="200px"><div><p>Price: {{type.price | currency}}</p></div>',restrict:"E",scope:{type:"="}}}),angular.module("yeomanApp").factory("basket",function(){var a={},b=0;return{get:function(){return a},count:function(){return b},add:function(c){a[c.id]?a[c.id].quantity+=1:a[c.id]={type:c,quantity:1},b+=1},remove:function(c){b-=a[c.type.id].amount,delete a[c.type.id]}}}),angular.module("yeomanApp").value("catalog",[{id:1,name:"Belts",img:"../../images/belt.jpg",price:45},{id:2,name:"Hats",img:"../../images/hats.jpg",price:58},{id:3,name:"Jeans",img:"../../images/jeans.jpg",price:80},{id:4,name:"Shoes",img:"../../images/shoes.jpg",price:137}]);